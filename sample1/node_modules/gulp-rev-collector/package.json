{
  "name": "gulp-rev-collector",
  "version": "1.1.1",
  "description": "Static asset revision data collector from manifests, generated from different streams, and replace their links in html template.",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/shonny-ua/gulp-rev-collector"
  },
  "author": {
    "name": "Oleksandr Ovcharenko",
    "email": "shonny.ua@gmail.com"
  },
  "main": "index.js",
  "files": [
    "index.js"
  ],
  "scripts": {
    "test": "mocha"
  },
  "engines": {
    "node": ">=0.10.0"
  },
  "keywords": [
    "gulpplugin",
    "gulp",
    "rev",
    "revision",
    "version",
    "versioning",
    "static",
    "asset",
    "assets",
    "collect",
    "collector"
  ],
  "dependencies": {
    "gulp-util": "^3.0.0",
    "through2": ">=0.5.1",
    "underscore": "^1.6.0"
  },
  "devDependencies": {
    "lodash.isequal": "^4.4.0",
    "mocha": "*"
  },
  "bugs": {
    "url": "https://github.com/shonny-ua/gulp-rev-collector/issues"
  },
  "homepage": "https://github.com/shonny-ua/gulp-rev-collector",
  "readme": "[![Build Status](https://travis-ci.org/shonny-ua/gulp-rev-collector.svg)](https://travis-ci.org/shonny-ua/gulp-rev-collector)\n[![Dependencies](https://david-dm.org/shonny-ua/gulp-rev-collector.svg)](https://david-dm.org/shonny-ua/gulp-rev-collector)\n[![devDependencies](https://david-dm.org/shonny-ua/gulp-rev-collector/dev-status.svg)](https://david-dm.org/shonny-ua/gulp-rev-collector#info=devDependencies&view=table)\n[![NPM version](https://badge.fury.io/js/gulp-rev-collector.svg)](http://badge.fury.io/js/gulp-rev-collector)\n\n# [gulp](https://github.com/wearefractal/gulp)-rev-collector\n\n[![NPM](https://nodei.co/npm/gulp-rev-collector.png?downloads=true&stars=true)](https://nodei.co/npm/gulp-rev-collector/)\n\n> Static asset revision data collector from manifests, generated from different streams, and replace their links in html template.\n\n## Install\n\n```sh\n$ npm install --save gulp-rev-collector\n```\n\n## Usage\n\nWe can use [gulp-rev](https://github.com/sindresorhus/gulp-rev) to cache-bust several assets and generate manifest files for them. Then using gulp-rev-collector we can collect data from several manifest files and replace links to assets in html templates.\n\n```js\nvar gulp         = require('gulp');\nvar rev = require('gulp-rev');\n\ngulp.task('css', function () {\n    return gulp.src('src/css/*.css')\n        .pipe(rev())\n        .pipe(gulp.dest('dist/css'))\n        .pipe( rev.manifest() )\n        .pipe( gulp.dest( 'rev/css' ) );\n});\n\ngulp.task('scripts', function () {\n    return gulp.src('src/js/*.js')\n        .pipe(rev())\n        .pipe(gulp.dest('dist/js'))\n        .pipe( rev.manifest() )\n        .pipe( gulp.dest( 'rev/js' ) );\n});\n\n...\n\nvar revCollector = require('gulp-rev-collector');\nvar minifyHTML   = require('gulp-minify-html');\n\ngulp.task('rev', function () {\n    return gulp.src(['rev/**/*.json', 'templates/**/*.html'])\n        .pipe( revCollector({\n            replaceReved: true,\n            dirReplacements: {\n                'css': '/dist/css',\n                '/js/': '/dist/js/',\n                'cdn/': function(manifest_value) {\n                    return '//cdn' + (Math.floor(Math.random() * 9) + 1) + '.' + 'exsample.dot' + '/img/' + manifest_value;\n                }\n            }\n        }) )\n        .pipe( minifyHTML({\n                empty:true,\n                spare:true\n            }) )\n        .pipe( gulp.dest('dist') );\n});\n```\n\n### Options\n\n#### collectedManifest\n\nType : `String`\n\nIt is a filename for collecded and merged manifest data in `json` format.\n\n#### replaceReved\n\nType : `Boolean`\n\nYou set a flag, replaceReved, which will replace alredy replaced links in template's files. Default value is `false`.\n\n#### dirReplacements\n\nSpecifies a directories replacement set. [gulp-rev](https://github.com/sindresorhus/gulp-rev) creates manifest files without any info about directories. E.c. if you use dirReplacements param from [Usage](#usage) example, you get next replacement:\n\n```\n\"/css/style.css\" => \"/dist/css/style-1d87bebe.css\"\n\"/js/script1.js\" => \"/dist/script1-61e0be79.js\"\n\"cdn/image.gif\"  => \"//cdn8.example.dot/img/image-35c3af8134.gif\"\n```\n\n#### revSuffix\n\nType : `String`\n\nIt is pattern for define reved files suffixes. Default value is '-[0-9a-f]{8,10}-?'. This is necessary in case of e.c. [gulp-rename](https://github.com/hparra/gulp-rename) usage. If reved filenames had different from default mask.\n\n\n### Works with gulp-rev-collector\n\n- [gulp-rev](https://github.com/sindresorhus/gulp-rev)\n\n## License\n\n[MIT](http://opensource.org/licenses/MIT) Â© [Oleksandr Ovcharenko](mailto:shonny.ua@gmail.com)\n",
  "readmeFilename": "README.md",
  "_id": "gulp-rev-collector@1.1.1",
  "_from": "gulp-rev-collector@"
}
